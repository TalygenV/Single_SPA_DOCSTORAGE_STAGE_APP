(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6eb3689d"],{"0c7f":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[t._v(" "+t._s(t.ModalLabelForlsListing)+" ")]),e("div",["Groups"==t.refCode?e("a",{staticClass:"p-action-btn text-white",attrs:{id:"aAddFolder",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add"},on:{click:t.OpenAddGroupPopup}},[e("em",{staticClass:"fa fa-plus text-white"}),t._v(" "),e("br"),t._v("Add Group ")]):t._e(),e("a",{staticClass:"p-action-btn text-white disabled",attrs:{href:"javascript:;",id:"aDeleteAll",title:"Delete"},on:{click:t.CommonDelete}},[e("em",{staticClass:"fa fa-trash"}),t._v(" "),e("br"),t._v("Delete ")])]),e("button",{staticClass:"close",on:{click:t.ClosePopupGroups}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"listing py-3 px-3"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[e("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),t._m(0),"Users"!=t.refCode?e("th",[e("span",[t._v("Shared Member")])]):t._e(),t._m(1)])]),e("tbody",[t._l(t.GroupListingData,(function(a){return e("tr",{key:a},[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{Id:a.Id,type:"checkbox"},domProps:{value:a.Id},on:{change:function(e){return t.onChange()}}})]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.Name)+" ")])]),"Users"!=t.refCode?e("td",[null!=a.SharedMembers?e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.SharedMembers)+" "),a.SharedMembers.length>2?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.loadMore(a.Id)}}},[t._v("more..")]):t._e()]):t._e()]):t._e(),e("td",{staticClass:"single-action text-center"},["Users"!=t.refCode?e("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Edit",typefor:"Edit",value:a.Id,title:"Edit"},on:{click:function(e){return t.EditGroupData(a.Id)}}},[e("em",{staticClass:"fa fa-pencil text-success action-icon"})]):t._e(),e("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Delete",typefor:"Delete",value:a.Id,title:"Delete"},on:{click:function(e){return t.CommonDelete(a.Id)}}},[e("em",{staticClass:"fa fa-trash text-success action-icon"})])])])})),e("tr",[0==t.NoRecordLength?e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record Found")]):t._e()])],2)])])])])])])],1),t.ShowModalSharePopup?e("ModalShareDocument",{attrs:{docCode:t.docCode,folderId:t.folderId,GroupData:t.GroupData,StorageUniqueCode:t.StorageUniqueCode,idFile:t.FileId,generateJSONData:t.generateJSONData},on:{BindGroupsData:t.BindGroupsData,ClosePopup:t.ClosePopup}}):t._e(),t.showSharedUserList?e("SharedUserList",{attrs:{folderId:t.folderId,RecordId:t.RecordId,FileId:t.FileId,refCode:t.refCode}}):t._e()],1)},i=[function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Name")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[e("span",[t._v("Action")])])}],o=a("b48e"),r=a("9769"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[t._v(" Shared Members List ")]),e("div",[e("a",{staticClass:"p-action-btn text-white disabled",attrs:{href:"javascript:;",id:"iconDeleteAll",title:"Delete"},on:{click:t.UsersDelete}},[e("em",{staticClass:"fa fa-trash"}),t._v(" "),e("br"),t._v("Delete ")])]),e("button",{staticClass:"close",on:{click:t.ClosePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"listing py-3 px-3"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblUserList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[e("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),t._m(0),t._m(1)])]),e("tbody",[t._l(t.SharedData,(function(a){return e("tr",{key:a},[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{GroupId:a.UserId,type:"checkbox"},domProps:{value:a.UserId},on:{change:function(e){return t.onChange()}}})]),t.IsShowColumn?e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.UserName)+" ")])]):t._e(),e("td",{staticClass:"single-action text-center"},[e("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Delete",typefor:"Delete",value:a.UserId,title:"Delete"},on:{click:function(e){return t.UsersDelete(a.UserId)}}},[e("em",{staticClass:"fa fa-trash text-success action-icon"})])])])})),e("tr",[0==t.SharedData.length?e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record Found")]):t._e()])],2)])])])])])])],1)},n=[function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Shared Member List")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[e("span",[t._v("Action")])])}],d={props:{RecordId:{type:String,required:!0},FileId:{type:String,required:!0},refCode:{type:String,required:!0}},components:{},data(){return{isLoading:!1,IsShowColumn:!0,SharedData:[],ListData:[]}},created:function(){this.BindSharedList()},methods:{ClosePopup:function(){this.$parent.ClosePopup(),this.$parent.FetchData()},BindSharedList:function(){var t=this;t.isLoading=!0;var e=`sourceId=${t.FileId}&parentId=${t.RecordId}&refCode=${t.refCode}`;r["a"].GetUserSharedListing(e).then((function(e){null!=e.data&&(t.ListData=JSON.parse(e.data),t.SharedData=t.ListData.DocParentUserListing),t.ListData=JSON.parse(e.data),t.SharedData=t.ListData.DocParentUserListing,t.isLoading=!1})),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1},onChange:function(){var t=$(".chkItems:checked").not("[id^='chkAll']").length;t>0?$("#iconDeleteAll").removeClass("disabled"):$("#iconDeleteAll").addClass("disabled")},UsersDelete:function(t){var e=this,a="";$("#tblUserList .chkItems:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()}));var s="";a.length>0||null!=t?e.confirmR(e.$t("ConfirmDeleteRecord"),!0,e.$t("Delete")+"  "+e.$t("Members"),(function(){e.isLoading=!0,t>0?s=t:s+=a+",";var i=`parentIds=${e.RecordId}&sharedUserIds=${s}&sourceId=${e.FileId}&refCode=Shared_Doc_Storage`;r["a"].DeleteParentsUsersSharedFilesFoldersBySource(i).then((function(t){"OK"==t.statusText?1==t.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),e.BindSharedList(),e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Users")]),"success",!0,e.$t("Alert"))):-1==t.data&&e.ShowAlert(e.$t("DeletedError",[e.$t("Users")]),"Failure",!0,e.$t("Alert")):e.ShowAlert(e.$t("DeletedError",[e.$t("Users")]),"Failure",!0,e.$t("Alert"))})),e.isLoading=!1})):e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1}}},c=d,p=a("2877"),h=Object(p["a"])(c,l,n,!1,null,null,null),u=h.exports,f={props:{ModalLabelForlsListing:{type:String,required:!0},refCode:{type:String,require:!0},FileId:{type:String,require:!0},docCode:{type:String,require:!0},StorageUniqueCode:{type:String,required:!0},folderId:{type:String,required:!0},generateJSONData:{type:Array,required:!0}},components:{ModalShareDocument:o["a"],SharedUserList:u},data(){return{isLoading:!1,loggeduserid:null,companyId:null,ShowGruopListing:!1,ShowModalAddGroup:!1,GroupListing:[],GroupListingData:[],GroupData:[],showSharedUserList:!1,ShowModalSharePopup:!1,GroupInfoData:[],NoRecordLength:null,UserListingShow:!1}},created:function(){this.loggeduserid=this.GetUserInfo.ID,this.companyId=this.GetUserInfo.CompanyId;var t=this;t.FetchData()},methods:{loadMore:function(t){var e=this;this.RecordId=t;e.refCode,e.FileId;this.showSharedUserList=!0},CommonDelete:function(t){var e=this,a="",s=this.folderId;$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()}));var i="";a.length>0||null!=t?(e.isLoading=!0,e.confirmR(e.$t("ConfirmDeleteRecord"),!0,e.$t("Delete")+"  "+e.$t("Groups"),(function(){t>0?i=t:i+=a+",";var o="";o="Users"==e.refCode?`parentIds=&sharedUserIds=${i}&sourceId=${e.FileId}&refCode=Shared_Doc_Storage&parentFolderId=${s}`:`parentIds=${i}&sharedUserIds=&sourceId=${e.FileId}&refCode=Shared_Doc_Storage&parentFolderId=${s}`,r["a"].DeleteParentsUsersSharedFilesFoldersBySource(o).then((function(t){"OK"==t.statusText?1==t.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),e.ShowAlert(e.$t("DeletedSuccess",[e.$t("SharedParent")]),"success",!0,e.$t("Alert")),e.FetchData()):-1==t.data&&(e.ShowAlert(e.$t("DeletedError",[e.$t("SharedParent")]),"Failure",!0,e.$t("Alert")),e.isLoading=!1):e.ShowAlert(e.$t("DeletedError",[e.$t("SharedParent")]),"Failure",!0,e.$t("Alert"))}))})),e.isLoading=!1):(e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1)},ClosePopupGroups:function(){this.$parent.CloseGroupListingPopup()},ClosePopup:function(){this.showSharedUserList=!1,this.ShowModalSharePopup=!1},EditGroupData:function(t){var e=this;e.AddEditText="Edit";var a=`parentid=${t}&CompanyId=${e.companyId}&refCode=${this.refCode}&sourceId=${this.FileId}`;r["a"].GetSharedDocStorageParentUserInfo(a).then((function(t){e.GroupInfoData=JSON.parse(t.data),e.GroupData=e.GroupInfoData.DocStorageSharedUserListing,e.ShowModalSharePopup=!0}))},onChange:function(){var t=$(".chkItems:checked").not("[id^='chkAll']").length;t>0?$("#aDeleteAll").removeClass("disabled"):$("#aDeleteAll").addClass("disabled")},FetchData:function(){var t=this;t.isLoading=!0,t.GroupListingData=[];var e=`CompanyId=${this.companyId}&UserId=${this.loggeduserid}&refCode=${this.refCode}&sourceId=${this.FileId}`;r["a"].GetUserGroupListing(e).then((function(e){t.GroupListingData=e.data.DocStorageSharedUserListing,null==t.GroupListingData&&(t.NoRecordLength=0),t.isLoading=!1})),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)},OpenAddGroupPopup:function(){this.ShowModalSharePopup=!0},ClosePopupShared:function(){var t=this;t.ShowModalSharePopup=!1}}},m=f,g=Object(p["a"])(m,s,i,!1,null,null,null);e["a"]=g.exports},"13d5":function(t,e,a){"use strict";var s=a("23e7"),i=a("d58f").left,o=a("a640"),r=a("2d00"),l=a("605d"),n=!l&&r>79&&r<83,d=n||!o("reduce");s({target:"Array",proto:!0,forced:d},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},"1e38":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"divMainFormData"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("LeftMenu",{attrs:{userid:t.loggeduserid,SharedFolder:t.SharedFolderParent,RecentPinnedFolderArray:t.RecentFolderArray,organizationSpace:t.organizationSpace,pinnedFolderArray:t.pinnedFolderArray,sharedChildFolder:t.sharedChildFolder,UserList:t.SharedUserList,FolderArray:t.FindalFolderArray},on:{FilesListing:t.FilesListing}}),e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("section",{staticClass:"main-content"},[e("div",{staticClass:"right-content hr_jobpost"},[e("div",{staticClass:"col-md-12 p-0 mb-2"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.FileName))]),e("span",{staticClass:"p-actions float-right"},[e("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"",id:"backtolist","data-original-title":t.$t("BacktoList")},on:{click:t.BackToList}},[e("em",{staticClass:"fa fa-angle-double-left pr-2"}),e("br"),t._v(t._s(t.$t("BacktoList"))+" ")]),e("a",{staticClass:"p-action-btn text-white float-right",class:"r"==t.permission||"w"==t.permission?"disabled":"",on:{click:t.CommonDelete}},[e("em",{staticClass:"fa fa-trash"}),e("br"),t._v("Delete")]),e("a",{staticClass:"p-action-btn text-white float-right",class:"r"==t.permission?"disabled":"",on:{click:function(e){return t.UpdateNewVersion()}}},[e("em",{staticClass:"fa fa-file-text-o"}),e("br"),t._v("Update New Version "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"imgupload"},on:{change:function(e){return t.handleFilesUpload(e)}}})]),t.fileOldVersionCount>=2?e("a",{staticClass:"p-action-btn text-white float-right",on:{click:t.ShowOldVersionPopUp}},[e("em",{staticClass:"fa fa-clock-o",attrs:{"aria-hidden":"true"}}),e("br"),t._v("Old Version")]):t._e(),e("a",{staticClass:"p-action-btn text-white float-right",class:"r"==t.permission||"w"==t.permission?"disabled":"",on:{click:t.SharePopup}},[e("em",{staticClass:"fa fa-share-alt"}),e("br"),t._v("Share")]),e("a",{staticClass:"p-action-btn text-white float-right",class:"r"==t.permission||"w"==t.permission||1==t.isGenerateLink?"disabled":"",on:{click:t.GeneratePublickLink}},[e("em",{staticClass:"fa fa-link",class:"r"==t.permission||1==t.isGenerateLink?"disabled":""}),e("br"),t._v("Generate public link")]),e("a",{staticClass:"p-action-btn text-white float-right",class:"r"==t.permission?"disabled":"",on:{click:function(e){return t.CopyFileFolder(t.FileJsonData.Id,t.FileJsonData.IsDocCode)}}},[e("em",{staticClass:"fa fa-files-o",attrs:{"aria-hidden":"true"}}),e("br"),t._v("Copy")]),e("a",{staticClass:"p-action-btn text-white float-right",class:"r"==t.permission||"w"==t.permission?"disabled":"",attrs:{id:t.FileId},on:{click:t.MoveFolderFiles}},[e("em",{staticClass:"fa fa-arrows"}),e("br"),t._v("Move")]),e("a",{staticClass:"p-action-btn text-white float-right",on:{click:function(e){return t.DownloadFiles(t.FileId,t.FileName)}}},[e("em",{staticClass:"fa fa-download"}),e("br"),t._v("Download")])]),t._m(0)])]),e("div",{staticClass:"tab-pane mb-0"},[e("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[t._m(1),e("div",{staticClass:"tab-pane p-0 pb-2 border-0 active",attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[e("div",{staticClass:"listing"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card mb-3 probx"},[t._m(2),t._l(t.FileJsonData,(function(a){return e("div",{staticClass:"card-body"},[e("div",{staticClass:"panel1 row"},[e("div",{staticClass:"col-12 p-0"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box border positionrelative float-left w-100"},[e("div",{staticClass:"default-tags"},[e("div",{staticClass:"defaultpic_control"},[e("a",{staticClass:"text-primary round-icons mr-2",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"View"},on:{click:function(e){return t.openLightbox(t.extension)}}},[e("em",{staticClass:"fa fa-eye"})]),e("a",{staticClass:"text-info round-icons mr-2",attrs:{title:"",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Download"},on:{click:function(e){return t.DownloadFiles(a.storage_file_id,a.storage_file_name)}}},[e("em",{staticClass:"fa fa-download"})])])]),e("div",{staticClass:"img-ico text-center p-2"},[e("em",{class:t.GetClass(t.extension)}),e("img",{staticClass:"mw-100",staticStyle:{"max-width":"140px","max-height":"140px"},attrs:{src:t.GetClass(t.extension),alt:""}})])]),"pdf"!=t.extension?e("VueEasyLightbox",{attrs:{visible:t.visibleRef,imgs:t.imgpath},on:{hide:t.onHide}}):t._e(),1!=t.videoPlayerShow||"docx"!=t.extension&&"doc"!=t.extension&&"xls"!=t.extension&&"xlsx"!=t.extension&&"pptx"!=t.extension?t._e():e("div",{staticClass:"text-center overlay",staticStyle:{"z-index":"999"}},[e("iframe",{attrs:{height:"800px",width:"50%",src:"https://view.officeapps.live.com/op/embed.aspx?src="+t.imgpath,frameborder:"0"}}),e("button",{staticClass:"close",staticStyle:{top:"-400px","font-size":"30px"},attrs:{type:"button"},on:{click:t.closeFrame}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("em",{staticClass:"fa fa-times"})]),1==t.videoPlayerShow&&"mp4"==t.extension?e("div",{staticClass:"text-center overlay"},[e("div",{staticClass:"position-relative"},[e("video",{attrs:{width:"320",height:"320",autoplay:"",controls:"",id:"backgroundvid"}},[e("source",{attrs:{src:t.imgpath,type:"video/mp4"}})]),e("em",{staticClass:"fa fa-times vidsclosebtn",attrs:{id:"video"},on:{click:t.closeFrame}})])]):t._e(),1!=t.videoPlayerShow||"txt"!=t.extension&&"pdf"!=t.extension?t._e():e("div",{staticClass:"text-center overlay"},[e("iframe",{staticStyle:{"background-color":"white"},attrs:{height:"800px",width:"50%",src:t.imgpath,frameborder:"0"}}),e("button",{staticClass:"close",staticStyle:{top:"0px","font-size":"20px",position:"absolute",right:"20px",opacity:"unset","background-color":"#c13a3a"},attrs:{type:"button"},on:{click:t.closeFrame}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("em",{staticClass:"fa fa-times",on:{click:t.closeFrame}})]),1==t.videoPlayerShow&&"mp3"==t.extension?e("div",{staticClass:"text-center overlay",staticStyle:{"text-align":"center"}},[e("audio",{attrs:{controls:""}},[e("source",{attrs:{src:t.imgpath,type:"audio/mpeg"}})]),e("em",{staticClass:"fa fa-times",staticStyle:{top:"-2px",left:"-46px",color:"black",cursor:"pointer"},on:{click:t.closeFrame}})]):t._e()],1),e("div",{staticClass:"row col-sm-12 col-md-6 col-lg-8 col-xl-9"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("File Name: ")]),e("span",{staticClass:"answer rightlabeltext"},[t._v(t._s(a.storage_file_name))])])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Created By: ")]),e("span",{staticClass:"answer rightlabeltext"},[t._v(t._s(a.created_by))])])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("File Size: ")]),e("span",{staticClass:"answer rightlabeltext"},[t._v(t._s(t.convertmbtoKb(a.storage_file_size)))])])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Created On: ")]),e("span",{staticClass:"answer rightlabeltext"},[t._v(t._s(t.$options.filters.formatDate(t.CreatedOn)))])])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Copy Link: ")]),1==a.IsGenerateLink?e("span",{staticClass:"answer rightlabeltext"},[e("a",{staticStyle:{color:"#55a9e1"},attrs:{href:"#"},on:{click:function(e){return t.CopyLink(t.copylinkUrl)}}},[t._v("Click to Copy "),e("em",{staticClass:"fa fa-clone",staticStyle:{color:"#0095ff"}})])]):0==a.IsGenerateLink?e("span",{staticClass:"answer rightlabeltext disabled"},[e("a",{staticClass:"text-danger",staticStyle:{color:"#55a9e1"},attrs:{href:"#"}},[t._v("Not Availabe ")])]):t._e()]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.tool,expression:"tool"}],staticClass:"tooltiptext"},[t._v(t._s(t.text))])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("File Type: ")]),e("span",{staticClass:"answer rightlabeltext"},[t._v(t._s(a.storage_file_ext))])])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[e("div",{staticClass:"form-group",attrs:{"data-v-f8df6780":""}},[e("label",{attrs:{"data-v-f8df6780":""}},[e("b",{attrs:{"data-v-f8df6780":""}},[t._v("Shared With: ")]),e("a",{staticClass:"mr-3 ml-2",attrs:{href:"javascript:void(0)",title:"Project"},on:{click:function(e){return t.showSharedDetilsModel(a.storage_file_id,a.StorageUniqueCode)}}},[t._m(3,!0)]),e("a",{staticClass:"mr-3",attrs:{href:"#",title:"Users"},on:{click:function(e){return t.ShowUsersListing(a.storage_file_id,a.StorageUniqueCode)}}},[t._m(4,!0)]),e("a",{staticClass:"mr-3",attrs:{href:"#",title:"Group"},on:{click:function(e){return t.OpenGroupListing(a.storage_file_id,a.StorageUniqueCode)}}},[t._m(5,!0)]),e("a",{staticClass:"mr-3",attrs:{href:"#",title:"Department"},on:{click:function(e){return t.ShowDepartmentListing(a.storage_file_id,a.StorageUniqueCode)}}},[t._m(6,!0)])])])])])])])])}))],2),e("div",{staticClass:"card mb-3 probx"},[t._m(7),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mbspc",attrs:{id:"divconversationbox"}},[e("doctimeline",{attrs:{fileTimelineData:t.fileTimelineData}})],1)])])])])])])])])])])])])],1),1==t.sharemodal?e("ModalSharePopup",{attrs:{idFile:t.idFile,folderId:t.folderId,docCode:t.docCode,StorageUniqueCode:t.StorageUniqueCode,generateJSONData:t.generateJSONData,Name:t.Name}}):t._e(),t.ShowGruopListing?e("ModelGroupListing",{attrs:{docCode:t.docCode,folderId:t.folderId,StorageUniqueCode:t.StorageUniqueCode,ModalLabelForlsListing:t.ModalLabelForlsListing,FileId:t.FileId,generateJSONData:t.generateJSONData,refCode:t.refCode},on:{ModalGroupListing:t.ModalGroupListing,FetchEditGroups:t.FetchEditGroups,CloseAddGroupPopup:t.CloseAddGroupPopup,CloseGroupListingPopup:t.CloseGroupListingPopup}}):t._e(),1==t.showmovefolderpopup?e("ModalMoveFolderFiles",{attrs:{FolderArray:t.FindalFolderArray,checkActionType:t.checkActionType},on:{MoveFoldersFiles:t.MoveFoldersFiles,CloneFoldersFiles:t.CloneFoldersFiles,closemovefilefolderpopup:t.closemovefilefolderpopup,CopyFileFolder:t.CopyFileFolder,FolderIdmove:t.FolderIdmove}}):t._e(),1==t.showFilesOldVersion?e("FilesListOldVersion",{attrs:{filesOldVersionListing:t.filesOldVersionListing},on:{closeOldVersionPopUp:t.closeOldVersionPopUp}}):t._e(),t.ShowModalAddGroup?e("ModalAddGroup",{on:{ModalAddGroups:t.ModalAddGroups,CloseAddGroupPopup:t.CloseAddGroupPopup}}):t._e(),t.copyFileInfo?e("copy-confirmation",{attrs:{copyFileInfo:t.copyFileInfo},on:{SaveCopyFile:t.SaveCopyFile}}):t._e()],1)},i=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"expand-list"},[e("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[e("em",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h2",[t._v("Details")]),e("div",{staticClass:"cont_right"},[e("div",{staticClass:"bar"})])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon-1 single-action",attrs:{"data-toggle":"popoveruserguide","data-content":"Project"}},[e("em",{staticClass:"fa fa-folder-open text-info"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon-1 single-action"},[e("em",{staticClass:"fa fa-user text-info"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon-1 single-action"},[e("em",{staticClass:"fa fa-users text-info"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon-1 single-action"},[e("em",{staticClass:"fa fa-vcard-o text-info"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h2",[t._v("File History")])])}],o=(a("5494"),a("14d9"),a("13d5"),a("b7ef"),a("bc3a")),r=a.n(o),l=a("110b"),n=a("9769"),d=a("4f4b"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal d-block my-popups dialog"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Group Listing"))+" ")])]})),e("button",{staticClass:"close",attrs:{type:"button",href:"javascript:;"},on:{click:function(e){return t.$emit("close")}}},[e("em",{staticClass:"fa fa-times"})])],2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form_content"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 form-panel p-0"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divshowProductList"}},[e("div",{staticClass:"listing mt-2"},["Department"==t.isShared?e("div",{staticClass:"table-responsive tableborder popuptablescroll_365",staticStyle:{"max-height":"550px!important","overflow-x":"auto"}},[t.noRecord?t._e():e("table",{staticClass:"table-sorting table table-bordered m-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v(t._s(t.$t("Department Name"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("Department Member"))+" ")])])])]),t._m(0)]),t.noRecord?e("div",{staticClass:"text-center text-danger",staticStyle:{padding:"20px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()]):t._e(),"Users"==t.isShared?e("div",{staticClass:"table-responsive tableborder popuptablescroll_365",staticStyle:{"max-height":"550px!important","overflow-x":"auto"}},[t.noRecord?t._e():e("table",{staticClass:"table-sorting table table-bordered m-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v(t._s(t.$t("User Name"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("Department Member"))+" ")])])])]),t._m(1)]),t.noRecord?e("div",{staticClass:"text-center text-danger",staticStyle:{padding:"20px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()]):t._e(),"Projects"==t.isShared?e("div",{staticClass:"table-responsive tableborder popuptablescroll_365",staticStyle:{"max-height":"550px!important","overflow-x":"auto"}},[t.noRecord?t._e():e("table",{staticClass:"table-sorting table table-bordered m-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v(t._s(t.$t("User Name"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("Department Member"))+" ")])])])]),t._m(2)]),t.noRecord?e("div",{staticClass:"text-center text-danger",staticStyle:{padding:"20px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()]):t._e(),"Group"==t.isShared?e("div",{staticClass:"table-responsive tableborder popuptablescroll_365",staticStyle:{"max-height":"550px!important","overflow-x":"auto"}},[t.noRecord?t._e():e("table",{staticClass:"table-sorting table table-bordered m-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v(t._s(t.$t("User Name"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("Department Member"))+" ")])])])]),t._m(3)]),t.noRecord?e("div",{staticClass:"text-center text-danger",staticStyle:{padding:"20px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()]):t._e()])])])])])])])])},p=[function(){var t=this,e=t._self._c;return e("tbody",[e("tr",[e("td",[t._v("Department Name")]),e("td",[t._v("Department Members")])])])},function(){var t=this,e=t._self._c;return e("tbody",[e("tr",[e("td",[t._v("User Name")]),e("td",[t._v("Department Members")])])])},function(){var t=this,e=t._self._c;return e("tbody",[e("tr",[e("td",[t._v("User Name")]),e("td",[t._v("Department Members")])])])},function(){var t=this,e=t._self._c;return e("tbody",[e("tr",[e("td",[t._v("User Name")]),e("td",[t._v("Department Members")])])])}],h={props:{isShared:{type:String,required:!0}},created(){alert(this.isShared)},method:{}},u=h,f=a("2877"),m=Object(f["a"])(u,c,p,!1,null,null,null),g=m.exports,v=a("0c7f"),C=a("b48e"),_=a("53c8"),b=a("c00f"),F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle"},[e("h4",{staticClass:"modal-title",attrs:{name:"header"}},[t._v(" Old Version ")]),e("button",{staticClass:"close",on:{click:t.ClosePopupOldVersion}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"listing py-3 px-3"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[t._m(0),e("tbody",[t._l(t.filesOldVersionListing,(function(a){return e("tr",{key:a},[t._m(1,!0),e("td",[e("span",{staticClass:"text-center"},[t._v(" "+t._s(a.FILE_NAME)+" ")])]),e("td",[e("span",{staticClass:"text-center"},[t._v(" "+t._s(a.FILE_VERSION)+" ")])]),e("td",[e("span",{staticClass:"text-center"},[t._v(" "+t._s(a.POSTED_BY)+" ")])]),e("td",{staticClass:"text-center single-action"},[e("em",{staticClass:"fa fa-download text-info action-icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.DownloadFiles(a.FILE_VERSION_ID,a.FILE_NAME)}}})])])})),e("tr",[0==t.filesOldVersionListing.length?e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record found")]):t._e()])],2)])])])])])])])},S=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[e("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"}})]),e("th",[e("span",[t._v("FileName")])]),e("th",[e("span",[t._v("Version")])]),e("th",[e("span",[t._v("Uploaded By")])]),e("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[e("span",[t._v("Action")])])])])},function(){var t=this,e=t._self._c;return e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{type:"checkbox"}})])}],D={components:{ListMenu:l["a"]},props:{filesOldVersionListing:{type:Array,required:!0}},data(){return{fileId:"",fileName:""}},methods:{ClosePopupOldVersion:function(){var t=this;t.$emit("closeOldVersionPopUp")},DownloadFiles:function(t,e){var a=this,s=1;a.DownloadFile(t,e,s)}}},y=D,x=Object(f["a"])(y,F,S,!1,null,null,null),L=x.exports,I=a("825ae"),w=a("53ec");const A=Object({NODE_ENV:"production",VUE_APP_Announcement:"https://stage.talygen.com/announcementmessage/Index?search=&sortBy=&sortExp=&pageSize=&pageNum=javascript:;&isPartial=1",VUE_APP_Clients:"https://stage.talygen.com/Configuration/Index?code=config-Client",VUE_APP_COMMON_API:"https://stagespa.talygen.com/api",VUE_APP_CompanyNotifications:"https://stage.talygen.com/notification/companyindex?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_COMPANY_DIRECTORY:"https://stage.talygen.com/User/DirectoryListing?reqhFrom=0",VUE_APP_ContextMenu:"https://stage.talygen.com/CompanyAdmin/ViewContextMenu?reqhFrom=0",VUE_APP_CURRENT_SITE_ROOT_URL:"https://stagespa.talygen.com",VUE_APP_DEFAULT_APP_URL:"http://stage.talygen.com",VUE_APP_Department:"https://stage.talygen.com/department/Index?search=&sortBy=&sortExp=&pageSize=&pageNum=javascript:;&isPartial=1",VUE_APP_Designation:"https://stage.talygen.com/designation/Index?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_DOCSTORAGE_API:"https://stagefilemedia.talygen.com/api",VUE_APP_FULL_MENU_APP_REDIRECTION:"false",VUE_APP_General:"https://stage.talygen.com/Configuration/index?reqhFrom=0&tab=general",VUE_APP_Greeting:"https://stage.talygen.com/greeting/Index?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_LoginAuthorization:"https://stage.talygen.com/loginauthorization/Index?search=&sortBy=&sortExp=&pageSize=&pageNum=javascript:;&isPartial=1",VUE_APP_ManageClientStorage:"https://stage.talygen.com/UserStorage/ManageClient?reqhFrom=13",VUE_APP_ManageSubscription:"https://stage.talygen.com/HR/CompanyHolidayList?reqhFrom=0",VUE_APP_ManageTags:"https://stage.talygen.com/Tag/Index?reqhFrom=10",VUE_APP_ManageUserStorage:"https://stage.talygen.com/UserStorage/Manage?reqhFrom=13",VUE_APP_OrganizationChart:"https://stage.talygen.com/OrganizationChart/OrgChart?reqhFrom=10",VUE_APP_Passportinformation:"https://stage.talygen.com/Immigration/Index?reqhFrom=10",VUE_APP_PasswordPolicy:"https://stage.talygen.com/company/add?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_ProvisionalRights:"https://stage.talygen.com/ProvisionalRight/Index?reqhFrom=10",VUE_APP_Roles:"https://stage.talygen.com/Roles/Index?reqhFrom=0",VUE_APP_Shift:"https://stage.talygen.com/shift/Index?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_Status:"https://stage.talygen.com/status/Index?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_Storage:"https://stage.talygen.com/Configuration/Index?code=config-Storage",VUE_APP_Users:"https://stage.talygen.com/User/Index?reqhFrom=0",BASE_URL:"/"}).VITE_DOCSTORAGE_API;var P={components:{LeftMenu:l["a"],doctimeline:d["a"],ModalSharedDetails:g,ModelGroupListing:v["a"],ModalMoveFolderFiles:b["a"],ModalSharePopup:C["a"],ModalAddGroup:_["a"],VueEasyLightbox:I["a"],FilesListOldVersion:L,CopyConfirmation:w["a"]},data(){return{isLoading:!1,loggeduserid:null,SharedFolderParent:[],FindalFolderArray:[],folderTreeList:[],sharedFolder:[],abc:[],FileJsonData:[],SharedType:"",images:"",CreatedOn:"",ishow:!1,isShared:"",FileName:"",visibleRef:!1,ShowGruopListing:!1,showmovefolderpopup:!1,folderFileId:null,ModalLabelForlsListing:"",refCode:"",FileId:"",docCode:null,fileTimelineData:[],sharemodal:!1,ShowModalAddGroup:!1,url:"",fileType:"",showFilesOldVersion:!1,filesOldVersionListing:[],files:"",folderId:"",StorageUniqueCode:"",recentFolderList:[],pinnedFolderList:[],RecentFolderArray:[],pinnedFolderArray:[],organizationSpace:[],tool:!1,text:"Copied!",permission:null,checkActionType:"",fileOldVersionCount:null,isGenerateLink:null,uploadUrl:"https://stagefilemedia.talygen.com/api/UploadStream",token:null,extension:null,generateJSONData:[],iconClass:"",sharedparentfolder:[],sharedChildFolder:[],commonParentName:"",refCode:"",addClass:"",copyFileInfo:null,imgpath:null,copylinkUrl:"",thumbnail:null,IsGlobal:0,videoPlayerShow:!1,SharedUserList:[]}},created:function(){var t=window.location.pathname;this.loggeduserid=this.GetUserInfo.ID,this.token=this.GetUserInfo.Token,this.docCode=this.$route.params.docCode,this.permission=this.$route.params.Permission,this.extension=this.$route.params.fileType,this.refCode=this.$route.params.RefCode,this.addClass=this.$route.params.RouteClass,this.FileId=t.split("/")[2],this.GetFullTree(),t.split("/")[2],t.split("/")[3]&&this.GetStorageFileSummary(t.split("/")[2]),this.images=this.$route.params.Path,this.folderId=t.split("/")[4],this.commonParentName=this.$route.params.CommonParentName,this.GetClass(this.extension),this.GetSharedFolder()},mounted(){this.ShowPopOver()},updated:function(){var t=this;t.FileId=t.$route.params.FileId,setTimeout((function(){t.setHeaderForSelectedTab()}),500),$("#ancActivityExpandAllCollapseAll").click((function(){"0"==$(this).attr("show")?($(this).attr("show","1"),$("#divconversationbox").find("#accordion").find(".collapse").collapse("hide")):($(this).attr("show","0"),$("#divconversationbox").find("#accordion").find(".collapse").collapse("show"))}))},mounted:function(){$("#FolderFullTree").treeview(),$("body").on("click","#FolderFullTree .folderlink",(function(){$("#FolderFullTree .folderlink").removeClass("selectedfolder"),$(this).addClass("selectedfolder")}))},methods:{DownloadFiles:function(t,e){var a=this;a.isLoading=!0;var s=0;a.DownloadFile(t,e,s),a.GetStorageFileSummary(t),a.isLoading=!1},DownloadFile:function(t,e,a){var s=`fileId=${t}&IsVersion=${a}`;n["a"].DownloadFile(s).then(t=>{var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",e.toString()),document.body.appendChild(s),s.click()})},SharePopup:function(){var t=this;t.generateJSONData=[],t.sharemodal=!0,t.idFile=t.FileJsonData[0].storage_file_id,t.docCode=t.$route.params.docCode,t.StorageUniqueCode=t.FileJsonData[0].StorageUniqueCode;var e={Name:t.FileJsonData[0].storage_file_name};t.generateJSONData.push(e)},closemovefilefolderpopup:function(){var t=this;t.showmovefolderpopup=!1},closePopupGroupListing:function(){this.sharemodal=!1},convertmbtoKb:function(t){var e=0;return e=t<1?t+" KB":t+" MB",e},UpdateNewVersion:function(){$("#imgupload").trigger("click")},closepopup:function(){this.sharemodal=!1},submitFiles(){let t=this;t.isLoading=!0;let e=new FormData;null!=t.folderId&&t.folderId,e.append("fileId",t.FileId),e.append("folderId",t.folderId),e.append("moduleName","DocStorage"),e.append("subModuleName",""),e.append("isGlobal",t.IsGlobal),e.append("file",this.files),r.a.post(this.uploadUrl,e,{headers:{Authorization:"Bearer "+this.token}}).then(e=>{"Success"==e.data&&(t.ShowAlert("File new version has been upload successfully","success",!0),t.isLoading=!1,t.GetStorageFileSummary(t.FileId)),console.info(e.data)}).catch(e=>{console.error(e),t.isLoading=!1})},handleFilesUpload(t){var e=this;e.files=t.target.files[0],e.submitFiles()},GetSharedFolder:function(){var t=this;n["a"].GetSharedFolderTree().then(e=>{t.sharedparentfolder=e.data.SharedFolderData,t.sharedparentfolder.forEach((e,a)=>{if(e.SHARED_USER_ID==t.loggeduserid){var s=t.sharedChildFolder.filter((function(t){return t.FOLDER_ID==e.FOLDER_ID}));if(0==s.length&&null==e.FOLDER_PARENT_ID){let a=e.FOLDER_ID,s=t.getsharedChildFolder(a,e,t.folderTreeList);t.sharedChildFolder.push(s)}}})})},ModalAddGroup:function(){this.ShowModalAddGroup=!0},CloseAddGroupPopup:function(){this.ShowModalAddGroup=!1},FolderIdmove:function(t,e){var a=this;a.folderId=t},openLightbox:function(t){var e=this;"mp4"==t||"mp3"==t||"docx"==t||"doc"==t||"xls"==t||"xlsx"==t||"pptx"==t||"txt"==t||"pdf"==t?e.videoPlayerShow=!0:e.visibleRef=!0},closeFrame:function(){var t=this;t.videoPlayerShow=!1},onHide:function(){var t=this;t.visibleRef=!1},CopyFileFolder:function(t,e){var a=this;a.confirmR(a.$t("Are you sure you want to Copy these file(s)."),!0,a.$t("Copy")+"  "+a.$t("File"),(function(){a.checkActionType="Copy",a.showmovefolderpopup=!0,a.folderFileId=t,a.doccode=e}))},ShowOldVersionPopUp:function(){var t=this;t.showFilesOldVersion=!0,n["a"].GetAllFileVersionExcludeLatest(t.FileId).then(e=>{t.filesOldVersionListing=JSON.parse(e.data).oldFileVersionData,setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),setTimeout((function(){t.CheckBoxBootstrap()}),100)})},closeOldVersionPopUp:function(){var t=this;t.showFilesOldVersion=!1},MoveFoldersFiles:function(){var t=this;let e={SourceId:t.FileId,RefCode:"1"};var a=JSON.stringify(e),s=`jsonData=${a}&destFolderid=${t.folderId}`;n["a"].MoveFileFolder(s).then(e=>{1==e.data?(t.ShowAlert(t.$t("MoveFolderFileSucces"),"success",!0,t.$t("Alert")),t.GetStorageFileSummary(t.FileId),t.$emit("StorageDocumentListing")):-2==e.data?t.ShowAlert(t.$t("Already exits in folder"),"success",!0,t.$t("Alert")):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))})},CloneFoldersFiles:function(){var t=this,e=`fileIds=${t.FileId}&destFolderId=${t.folderId}&opr=Copy`;n["a"].StartCopyMoveOpr(e).then(e=>{console.log(e),t.copyFileInfo=e.data.fileList})},SaveCopyFile(t){var e=this,a=JSON.stringify(t);n["a"].CloneFilesInFolder(a).then((function(t){console.log(t),e.copyFileInfo=null,setTimeout(()=>{e.copyFileInfo=t.data},100)}))},MoveFolderFiles:function(){this.folderId=0,this.showmovefolderpopup=!0,this.checkActionType="Move"},OpenGroupListing:function(t,e){var a=this;a.ModalLabelForlsListing=a.$t("GroupListing"),a.refCode="UserGroups",a.FileId=t,a.StorageUniqueCode=e,a.ShowGruopListing=!0},CloseGroupListingPopup:function(){this.ShowGruopListing=!1},ShowUsersListing:function(t,e){var a=this;a.ModalLabelForlsListing=a.$t("UserListing"),a.refCode="Users",a.FileId=t,a.StorageUniqueCode=e,a.ShowGruopListing=!0},ShowDepartmentListing:function(t,e){var a=this;a.ModalLabelForlsListing=a.$t("DepartmentListing"),a.refCode="Department",this.FileId=t,a.StorageUniqueCode=e,a.ShowGruopListing=!0},closeSharedDetailsModel(){this.ishow=!1},GetStorageFileSummary(t){this.isLoading=!0;var e={StorageFileId:t};n["a"].GetStorageFileSummary(e).then(t=>{var e=JSON.parse(t.data);this.fileOldVersionCount=e.FileJsonData[0].fileOldVersionCount,this.imgpath=JSON.parse(t.data).FileJsonData[0].storage_file_path.replace("/wwwroot",""),this.thumbnail=JSON.parse(t.data).FileJsonData[0].file_thumb_path.replace("/wwwroot",""),this.isGenerateLink=e.FileJsonData[0].IsGenerateLink,this.FileJsonData=[],this.FileJsonData=e.FileJsonData,this.IsGlobal=JSON.parse(t.data).FileJsonData[0].IsGlobal,this.folderId=JSON.parse(t.data).FileJsonData[0].ParentFolderId;e.fileSummaryJsonData.reduce((t,e)=>{var a;const{ActionDate:s}=e;return t[s]=null!==(a=t[s])&&void 0!==a?a:[],t[s].push(e),this.fileTimelineData.push(t),t},{});this.fileTimelineData=e.fileSummaryJsonData,this.CreatedOn=this.FileJsonData[0].created_at,this.fileType=this.FileJsonData[0].storage_file_ext,this.extension=this.fileType.replace(".",""),this.GetClass(this.extension),this.FileName=this.FileJsonData[0].storage_file_name,this.SharedType=e.FileSharedJsonData[0].SharedType,this.isLoading=!1})},showTool(){this.tool=!0,setTimeout(()=>this.tool=!1,1e3)},CopyLink(t){var e=this,a=window.location.pathname.split("/")[2],s=btoa(a),i=window.location.origin+"/DownloadPublicFile?FileId="+s;e.UniqueUrl=A+t,navigator.clipboard.writeText(i),e.showTool()},GeneratePublickLink:function(){var t=this;t.isLoading=!0;let e={SourceId:t.FileId,RefCode:1};t.generateJSONData.push(e);var a="docJsonData="+JSON.stringify(t.generateJSONData);n["a"].GenerateDocPublicLink(a).then(e=>{t.ShowAlert("Generate link has been successfully generated"),t.GetFullTree(),t.GetStorageFileSummary(t.FileId),t.isLoading=!1})},GetRecentlyAddPinnedFolder:function(){var t=this;n["a"].GetRecentlyAndPinnedFolderTreeData().then(e=>{t.recentFolderList=JSON.parse(e.data).RecentFolderList,t.pinnedFolderList=JSON.parse(e.data).PinnedFolderList,t.recentFolderList.forEach((e,a)=>{if(e.OWNER_USER_ID==t.loggeduserid){var s=t.RecentFolderArray.filter((function(t){return t.FOLDER_ID==e.FOLDER_ID}));if(0==s.length&&null==e.FOLDER_PARENT_ID){let a=e.FOLDER_ID,s=t.getsharedChildFolder(a,e,t.folderTreeList);t.RecentFolderArray.push(s)}}}),t.pinnedFolderList.forEach((e,a)=>{if(e.OWNER_USER_ID==t.loggeduserid){var s=t.pinnedFolderArray.filter((function(t){return t.FOLDER_ID==e.FOLDER_ID}));if(0==s.length&&null==e.FOLDER_PARENT_ID){let a=e.FOLDER_ID,s=t.getsharedChildFolder(a,e,t.folderTreeList);t.pinnedFolderArray.push(s)}}})})},GetOrganizationSpace:function(){var t=this;n["a"].GetOrganizationFolderTreeData().then(e=>{e.data.folderTreeList.forEach((e,a)=>{var s=t.organizationSpace.filter((function(t){return t.FOLDER_ID==e.FOLDER_ID}));if(0==s.length&&null==e.FOLDER_PARENT_ID){let a=e.FOLDER_ID,s=t.getsharedChildFolder(a,e,t.folderTreeList);t.organizationSpace.push(s)}})})},getsharedChildFolder:function(t,e,a){let s=this,i=e;var o=a.filter((function(e){return e.FOLDER_PARENT_ID==t}));let r=[];return o.forEach((t,e)=>{let i=t.FOLDER_ID;var o=r.filter((function(e){return e.FOLDER_ID==t.FOLDER_PARENT_ID}));if(0==o.length){var l=a.filter((function(t){return t.FOLDER_PARENT_ID==i}));if(null!=l&&l.length>0){let e=s.getsharedChildFolder(i,t,a);r.push(e)}else r.push(t)}}),i.chidFolder=r,i},showSharedDetilsModel(t,e){var a=this;a.ModalLabelForlsListing=a.$t("ProjectListing"),a.refCode="Project",a.FileId=t,a.StorageUniqueCode=e,a.ShowGruopListing=!0,a.isShow=!1},FilesListing(t){var e=this;e.folderId=t,n["a"].FileList(t).then(t=>{e.FilesListingData=t.data.FileList,e.folderSummary=t.data.folderSummary,e.SharedWith=t.data.folderSummary,setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),setTimeout((function(){e.CheckBoxBootstrap()}),100)})},getChildFolder:function(t,e,a){let s=this,i=e;var o=a.filter((function(e){return e.FOLDER_PARENT_ID==t}));let r=[];return o.forEach((t,e)=>{let i=t.FOLDER_ID;var o=r.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(0==o.length){var l=a.filter((function(t){return t.FOLDER_PARENT_ID==i}));if(null!=l&&l.length>0){let e=s.getChildFolder(i,t,a);r.push(e)}else r.push(t)}}),i.chidFolder=r,i},GetFullTree(){var t=this;n["a"].FolderFullTreeView().then(e=>{e.data.folderTreeList.forEach((a,s)=>{if(a.OWNER_USER_ID==this.loggeduserid&&0==a.IsGlobal){var i=t.FindalFolderArray.filter((function(t){return t.FOLDER_ID==a.FOLDER_ID}));if(0==i.length&&null==a.FOLDER_PARENT_ID){let s=a.FOLDER_ID,i=t.getChildFolder(s,a,e.data.folderTreeList);t.FindalFolderArray.push(i),t.GetRecentlyAddPinnedFolder(),t.GetOrganizationSpace()}}}),t.folderTreeList=e.data.folderTreeList,t.SharedUserList=e.data.userList,t.sharedFolder=e.data.sharedTreeList,t.folderTreeList.forEach((e,a)=>{t.sharedFolder.forEach((a,s)=>{a.ParentId!=e.FOLDER_ID&&e.SHARED_USER_ID==this.loggeduserid&&(t.abc.push(e),t.SharedFolderParent=[...new Set(t.abc)])})})})},CommonDelete:function(t,e){var a=this;a.confirmR(a.$t("ConfirmDeleteRecord"),!0,a.$t("Delete")+"  "+a.$t("Groups"),(function(){a.isLoading=!0;let t={};t["ids"]=a.FileId,t["refCode"]="Doc_File",t["companyId"]=a.loggedcompanyid,t["userId"]=a.loggeduserid,t["moduleName"]="DocStorage",n["a"].CommonDelete(t).then((function(t){"Success"==t.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),a.$emit("StorageDocumentListing"),a.ShowAlert([a.$t("Folder")],"success",!0,a.$t("Alert")),a.$router.push({name:"DashBoard"})):a.ShowAlert(a.$t("DeletedError",[a.$t("Folder")]),"success",!0,a.$t("Alert"))}))})),a.isLoading=!1},GetClass:function(t){var e=this;return e.iconClass="pdf"==t||"xls"==t||"xlsx"==t||"docx"==t||"xls"==t||"jpg"==t||"jpeg"==t||"png"==t?e.thumbnail:"txt"==t?"fa fa-file-text-o mt-4":"mp3"==t?"fa fa-file-audio-o mt-4":"mp4"==t?"fa fa-file-video-o mt-4":"fa fa-file-o mt-4",e.iconClass},BackToList:function(){this.$router.push({path:"/File/DashBoard",query:{FolderId:"null"==this.folderId?"0":this.folderId,ParentName:this.commonParentName,RefCode:this.$route.params.RefCode,AddClass:"a"+this.folderId,View:this.$route.params.View}})}}},k=P,U=(a("db2c"),a("d113"),Object(f["a"])(k,s,i,!1,null,null,null));e["default"]=U.exports},3454:function(t,e,a){var s=a("7538");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("1ea780be",s,!0,{sourceMap:!1,shadowMode:!1})},"4f4b":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity-tab"},[e("div",{staticClass:"w-100",attrs:{id:"accordion"}},[t._l(t.fileTimelineData,(function(a,s){return e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",on:{click:function(e){return t.ShowAccordion(s)}}},[e("a",{class:{"card-link":t.ShowHide=="collapseOne"+s,"card-link collapsed":t.ShowHide!="collapseOne"+s},attrs:{"data-bs-toggle":"collapse",href:"#collapseOne"+s}},[e("div",{staticClass:"conversation-date heading-border"},[e("span",[e("em",{staticClass:"fa fa-angle-down rotate-icon pr-1",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(a.MothKey))])])])]),t.ShowHide=="collapseOne"+s?e("transition",{attrs:{name:"modal"}},[e("div",{attrs:{id:"collapseOne"+s}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[t._l(a.FileSummary,(function(a){return[e("div",{staticClass:"col-md-12 mbspc"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-5 col-lg-5 col-md-12 col-sm-12 message-ellapse",attrs:{title:a.ActionKey}},[e("span",{staticClass:"iconplus"},[e("em",{staticClass:"fa fa-check-circle"})]),e("span",{staticClass:"circle-oicon"},[e("em",{class:"fa "+a.icon_codes})]),t._v(" "+t._s(a.ActionKey)+" ")]),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-12 col-sm-12"},[e("div",{staticClass:"cont_start"},[e("span",{staticClass:"blue-time"},[t._v(t._s(a.ActionBy))])])]),e("div",{staticClass:"col-xl-3 col-lg-3 col-md-12 col-sm-12 text-right"},[e("p",[t._v(t._s(a.CreatedTime))])])])])]}))],2)])])]):t._e()],1)})),0==t.fileTimelineData.length?e("div",{staticClass:"text-center text-danger p-2"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()],2)])},i=[],o={props:{fileTimelineData:{type:Array,required:!0}},data:function(){return{TimeLineData:[],NoRecordForTab:!0,fgh:"",ShowHide:null}},created:function(){var t=this;t.gettime()},watch:{fileTimelineData:{handler(t){this.TimeLineData=t,this.NoRecordForTab=!(null!=this.TimeLineData&&this.TimeLineData.length>0)},deep:!0}},methods:{gettime:function(){this.fileTimelineData.forEach((t,e)=>{this.fgh=t.ActionDate})},ShowAccordion:function(t){var e=this;e.ShowHide!="collapseOne"+t||null==e.ShowHide?e.ShowHide="collapseOne"+t:e.ShowHide=""}}},r=o,l=a("2877"),n=Object(l["a"])(r,s,i,!1,null,null,null);e["a"]=n.exports},5804:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".img-ico i.fa-file-pdf-o{font-size:40px;color:#c12025}",""]),t.exports=e},"605d":function(t,e,a){(function(e){var s=a("c6b6");t.exports="undefined"!=typeof e&&"process"==s(e)}).call(this,a("4362"))},7538:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".img{height:160px;width:200px}.vidsclosebtn{top:40px;color:#2c2c2c;right:-30px;cursor:pointer;position:absolute;width:30px;height:30px;left:unset;background:#e7e7e7;border-radius:100%;line-height:29px}.img-ico em.fa-file-o{font-size:90px;color:#25a5ff!important}",""]),t.exports=e},"784e":function(t,e,a){var s=a("5804");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("42e604fd",s,!0,{sourceMap:!1,shadowMode:!1})},a640:function(t,e,a){"use strict";var s=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&s((function(){a.call(null,e||function(){return 1},1)}))}},d113:function(t,e,a){"use strict";a("3454")},d58f:function(t,e,a){var s=a("59ed"),i=a("7b0b"),o=a("44ad"),r=a("07fa"),l=TypeError,n=function(t){return function(e,a,n,d){s(a);var c=i(e),p=o(c),h=r(c),u=t?h-1:0,f=t?-1:1;if(n<2)while(1){if(u in p){d=p[u],u+=f;break}if(u+=f,t?u<0:h<=u)throw l("Reduce of empty array with no initial value")}for(;t?u>=0:h>u;u+=f)u in p&&(d=a(d,p[u],u,c));return d}};t.exports={left:n(!1),right:n(!0)}},db2c:function(t,e,a){"use strict";a("784e")}}]);
//# sourceMappingURL=chunk-6eb3689d.js.map